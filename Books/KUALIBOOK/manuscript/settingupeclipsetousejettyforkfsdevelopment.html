<h2>Setting up Eclipse to use Jetty for KFS Development</h2>
Sometimes, you just want to use a straight, no-nonsense appserver for development. You want it to be fast, simple, and integrate with Eclipse and its debugger. Sounds like a tall order, but it's not. It's possible to setup Jetty to run KFS within Eclipse and hook in the debugger.<p><h3>Move Required Libraries into Your KFS Project</h3>The following need to be copied to the <i>.classpath</i> of your eclipse project<ul><li>jetty-6.1.15.rc5.jar</li><li>jetty-util-6.1.15.rc5.jar</li><li>connector-1_5.jar</li></ul><br /><h3>Create a Startup Server Class in Your KFS Project</h3>Here's ours<br /><pre><br />package edu.arizona.jetty;</pre></p><p>import org.mortbay.jetty.*;<br />import org.mortbay.jetty.webapp.*;<br />import org.mortbay.jetty.nio.*;</p><p>import static java.lang.System.getProperty;</p><p><br />/**<br /> *<br /> * @author Leo Przybylski (przybyls@arizona.edu)<br /> */<br />public class HappyMeal {<br />    public static void main(String[] args) {<br />        final String WEBROOT        = getProperty("webroot.directory");<br />        final int    SERVER_PORT    = Integer.parseInt(getProperty("jetty.port"));<br />        final String CONTEXT_PATH   = "/kfs-dev";</p><p>        Server server = new Server();</p><p>        Connector[] connectors = new Connector[1];<br />        connectors[0] = new SelectChannelConnector();<br />        connectors[0].setPort(SERVER_PORT);<br />        server.setConnectors(connectors);</p><p>        WebAppContext webapp = new WebAppContext();<br />        webapp.setContextPath(CONTEXT_PATH);<br />        webapp.setWar(WEBROOT);<br />        server.setHandler(webapp);</p><p>        try {<br />            server.start();<br />            server.join();<br />        }<br />        catch (Exception e) {<br />            e.printStackTrace();<br />        }<br />    }<br />}</p><p><h3>Create a .launch for Jetty Server</h3><pre><br />&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;<br />&lt;launchConfiguration type=&quot;org.eclipse.jdt.launching.localJavaApplication&quot;&gt;<br />&lt;listAttribute key=&quot;org.eclipse.debug.core.MAPPED_RESOURCE_PATHS&quot;&gt;<br />&lt;listEntry value=&quot;/kfs&quot;/&gt;<br />&lt;/listAttribute&gt;<br />&lt;listAttribute key=&quot;org.eclipse.debug.core.MAPPED_RESOURCE_TYPES&quot;&gt;<br />&lt;listEntry value=&quot;4&quot;/&gt;<br />&lt;/listAttribute&gt;<br />&lt;booleanAttribute key=&quot;org.eclipse.debug.core.appendEnvironmentVariables&quot; value=&quot;true&quot;/&gt;<br />&lt;listAttribute key=&quot;org.eclipse.debug.ui.favoriteGroups&quot;&gt;<br />&lt;listEntry value=&quot;org.eclipse.debug.ui.launchGroup.debug&quot;/&gt;<br />&lt;listEntry value=&quot;org.eclipse.debug.ui.launchGroup.run&quot;/&gt;<br />&lt;/listAttribute&gt;<br />&lt;stringAttribute key=&quot;org.eclipse.jdt.launching.MAIN_TYPE&quot; value=&quot;edu.arizona.jetty.HappyMeal&quot;/&gt;<br />&lt;stringAttribute key=&quot;org.eclipse.jdt.launching.PROJECT_ATTR&quot; value=&quot;kfs&quot;/&gt;<br />&lt;stringAttribute key=&quot;org.eclipse.jdt.launching.VM_ARGUMENTS&quot; value=&quot;-Dwebroot.directory=work/web-root/ -Djetty.port=8080 -Xmx2g -XX:MaxPermSize=256m -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -Denvironment=dev -DlogDefault=WARN&quot;/&gt;<br />&lt;/launchConfiguration&gt;<br /></pre></p><p>The parts to pay attention to are the <i>org.eclipse.jdt.launching.MAIN_TYPE</i>, <i>org.eclipse.jdt.launching.PROJECT_ATTR</i>, and <i>org.eclipse.jdt.launching.VM_ARGUMENTS</i> attributes. You'll need to adjust yours to your preferences.</p><p><h3>Test it out</h3><br /><br />This will add jetty to the tools menu<br /></p><p><h3>Hooking up the Debugger</h3>The <i>jetty</i> selection should now be available under the debug menu.<br /></p><p><h3>Love</h3><div></div></p>